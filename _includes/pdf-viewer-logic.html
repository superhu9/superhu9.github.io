<script type="text/javascript">
  // ä½ çš„ Client ID
  const CLIENT_ID = "a2fcae797df24d6784d7753a4ae11c8c"; 
  // R2 å®˜æ–¹ Public URL (ç¨³å®šä¸”å¿«é€Ÿ)
const R2_BASE_URL = "https://doc.huyang.online/å…¶æ–‡/";

  function openPDF(fileName) {
    // æ£€æŸ¥ Adobe SDK æ˜¯å¦åŠ è½½æˆåŠŸ
    if (!window.AdobeDC) {
        alert("PDFç»„ä»¶æ­£åœ¨åŠ è½½ä¸­ï¼Œè¯·åˆ·æ–°é¡µé¢ã€‚");
        return;
    }

    const divId = "viewer-" + fileName;
    const container = document.getElementById(divId);
    
    if (!container) {
        console.error("æ‰¾ä¸åˆ°æ–‡ä»¶å®¹å™¨:", fileName);
        return;
    }

    // Toggle å¼€å…³é€»è¾‘ï¼šå¦‚æœå·²æ‰“å¼€ï¼Œåˆ™å…³é—­
    if (container.style.display === "block") {
      container.style.display = "none";
      return;
    }
    
    // å…³é—­å…¶ä»–é˜…è¯»å™¨ï¼Œåªæ˜¾ç¤ºå½“å‰ç‚¹å‡»çš„
    document.querySelectorAll('.pdf-viewer-container').forEach(el => el.style.display = 'none');
    container.style.display = "block";

    // ç»„åˆæœ€ç»ˆ URLï¼šå®˜æ–¹é“¾æ¥ + æ–‡ä»¶å (å·²ç¼–ç )
    // æ—¢ç„¶ç®€å•é“¾æ¥æµ‹è¯•æˆåŠŸï¼Œè¿™ä¸ªç»å¯¹è·¯å¾„å°±æ˜¯å¯ç”¨çš„
    const fileUrl = R2_BASE_URL + encodeURIComponent(fileName); 

    var adobeDCView = new AdobeDC.View({
      clientId: CLIENT_ID, 
      divId: divId
    });
    
    adobeDCView.previewFile({
      content: { location: { url: fileUrl } },
      metaData: { fileName: fileName }
    }, 
    {
      embedMode: "SIZED_CONTAINER",
      showDownloadPDF: false, // ğŸš« ç¦æ­¢ä¸‹è½½
      showPrintPDF: false,    // ğŸš« ç¦æ­¢æ‰“å°
      showAnnotationTools: false
    });
    }); // <-- è¿™æ˜¯ function openPDF çš„ç»“æŸ
</script>  <-- å¿…é¡»åŠ ä¸Šè¿™ä¸ªï¼Œå…³é—­æ•´ä¸ªè„šæœ¬å—
